<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>API Reference - browser-console</title>
  <meta name="description" content="Complete API documentation for the browser-console web component including attributes, methods, events, and CSS custom properties." />
  <link rel="stylesheet" href="styles.css" />
  <script type="module" src="https://cdn.jsdelivr.net/gh/ProfPowell/code-block@v2.0.1/dist/code-block.min.js"></script>
  <script>
    // Load saved theme
    if (localStorage.getItem('browser-console-theme') === 'dark') {
      document.body.classList.add('dark')
    }
  </script>
</head>
<body>
  <header class="site-header">
    <nav>
      <a href="index.html" class="nav-brand">&lt;browser-console&gt;</a>
      <div class="nav-links">
        <a href="index.html">Home</a>
        <a href="demos.html">Demos</a>
        <a href="api.html" class="active">API</a>
        <a href="https://github.com/ProfPowell/browser-console">GitHub</a>
        <button class="theme-toggle" title="Toggle theme">&#127763;</button>
      </div>
    </nav>
  </header>

  <main>
    <h1>API Reference</h1>
    <p class="text-muted">Complete documentation for the <code>&lt;browser-console&gt;</code> web component.</p>

    <section id="installation" class="api-section">
      <h2>Installation</h2>
      <h3>npm</h3>
      <code-block language="bash">npm install @profpowell/browser-console</code-block>

      <h3>CDN</h3>
      <code-block language="html">&lt;script type="module" src="https://unpkg.com/@profpowell/browser-console"&gt;&lt;/script&gt;</code-block>

      <h3>ES Module Import</h3>
      <code-block language="javascript">import '@profpowell/browser-console'
// or
import { BrowserConsole } from '@profpowell/browser-console'</code-block>
    </section>

    <section id="usage" class="api-section">
      <h2>Basic Usage</h2>
      <code-block language="html">&lt;browser-console theme="dark" max-logs="500"&gt;&lt;/browser-console&gt;</code-block>
      <p>The component automatically hooks into console methods and displays all logs with syntax highlighting.</p>
    </section>

    <section id="attributes" class="api-section">
      <h2>Attributes</h2>
      <table class="api-table">
        <thead>
          <tr>
            <th>Attribute</th>
            <th>Type</th>
            <th>Default</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>theme</code></td>
            <td><span class="api-type">string</span></td>
            <td><span class="api-default">"dark"</span></td>
            <td>Color theme: <code>"dark"</code> or <code>"light"</code></td>
          </tr>
          <tr>
            <td><code>max-logs</code></td>
            <td><span class="api-type">number</span></td>
            <td><span class="api-default">1000</span></td>
            <td>Maximum number of logs to retain in memory</td>
          </tr>
          <tr>
            <td><code>auto-hook</code></td>
            <td><span class="api-type">string</span></td>
            <td><span class="api-default">"true"</span></td>
            <td>Whether to automatically hook console methods on connect. Set to <code>"false"</code> to manually control.</td>
          </tr>
        </tbody>
      </table>
    </section>

    <section id="properties" class="api-section">
      <h2>Properties</h2>
      <table class="api-table">
        <thead>
          <tr>
            <th>Property</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>logs</code></td>
            <td><span class="api-type">LogEntry[]</span></td>
            <td>Array of captured log entries</td>
          </tr>
          <tr>
            <td><code>originalConsole</code></td>
            <td><span class="api-type">Object&lt;string, Function&gt;</span></td>
            <td>Original console methods stored for restoration</td>
          </tr>
          <tr>
            <td><code>filter</code></td>
            <td><span class="api-type">string | null</span></td>
            <td>Current log filter (<code>null</code> shows all)</td>
          </tr>
          <tr>
            <td><code>maxLogs</code></td>
            <td><span class="api-type">number</span></td>
            <td>Maximum logs to retain (default: 1000)</td>
          </tr>
          <tr>
            <td><code>timers</code></td>
            <td><span class="api-type">Object&lt;string, number&gt;</span></td>
            <td>Timer tracking for <code>console.time/timeEnd</code></td>
          </tr>
          <tr>
            <td><code>counters</code></td>
            <td><span class="api-type">Object&lt;string, number&gt;</span></td>
            <td>Counter tracking for <code>console.count</code></td>
          </tr>
          <tr>
            <td><code>theme</code></td>
            <td><span class="api-type">"dark" | "light"</span></td>
            <td>Current theme</td>
          </tr>
          <tr>
            <td><code>searchQuery</code></td>
            <td><span class="api-type">string</span></td>
            <td>Current search/filter query</td>
          </tr>
          <tr>
            <td><code>groupDepth</code></td>
            <td><span class="api-type">number</span></td>
            <td>Current <code>console.group</code> nesting depth</td>
          </tr>
          <tr>
            <td><code>groupStack</code></td>
            <td><span class="api-type">GroupStackEntry[]</span></td>
            <td>Stack of open groups</td>
          </tr>
        </tbody>
      </table>
    </section>

    <section id="methods" class="api-section">
      <h2>Methods</h2>
      <table class="api-table">
        <thead>
          <tr>
            <th>Method</th>
            <th>Parameters</th>
            <th>Returns</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>hookConsole()</code></td>
            <td>—</td>
            <td><span class="api-type">void</span></td>
            <td>Hook into console methods to capture logs. Called automatically unless <code>auto-hook="false"</code>.</td>
          </tr>
          <tr>
            <td><code>unhookConsole()</code></td>
            <td>—</td>
            <td><span class="api-type">void</span></td>
            <td>Restore original console methods. Called automatically on disconnect.</td>
          </tr>
          <tr>
            <td><code>setTheme(theme)</code></td>
            <td><code>theme: "dark" | "light"</code></td>
            <td><span class="api-type">void</span></td>
            <td>Set theme programmatically. Also updates the <code>theme</code> attribute.</td>
          </tr>
          <tr>
            <td><code>setFilter(filter)</code></td>
            <td><code>filter: string | null</code></td>
            <td><span class="api-type">void</span></td>
            <td>Filter by log method. Pass <code>null</code> for all, or <code>"error"</code>, <code>"warn"</code>, etc.</td>
          </tr>
          <tr>
            <td><code>setSearchQuery(query)</code></td>
            <td><code>query: string</code></td>
            <td><span class="api-type">void</span></td>
            <td>Filter logs by text content.</td>
          </tr>
          <tr>
            <td><code>clearLogs()</code></td>
            <td>—</td>
            <td><span class="api-type">void</span></td>
            <td>Clear all logs from display and internal array.</td>
          </tr>
          <tr>
            <td><code>copyLogs()</code></td>
            <td>—</td>
            <td><span class="api-type">Promise&lt;void&gt;</span></td>
            <td>Copy visible logs to clipboard as plain text.</td>
          </tr>
          <tr>
            <td><code>addLog(log)</code></td>
            <td><code>log: LogEntry</code></td>
            <td><span class="api-type">void</span></td>
            <td>Add a log entry programmatically.</td>
          </tr>
          <tr>
            <td><code>matchesFilters(log)</code></td>
            <td><code>log: LogEntry</code></td>
            <td><span class="api-type">boolean</span></td>
            <td>Check if a log entry matches current filters.</td>
          </tr>
          <tr>
            <td><code>formatLogsForClipboard()</code></td>
            <td>—</td>
            <td><span class="api-type">string</span></td>
            <td>Format visible logs as plain text for clipboard.</td>
          </tr>
        </tbody>
      </table>
    </section>

    <section id="events" class="api-section">
      <h2>Events</h2>
      <table class="api-table">
        <thead>
          <tr>
            <th>Event</th>
            <th>Detail</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>log</code></td>
            <td><code>{ log: LogEntry }</code></td>
            <td>Dispatched when a new log entry is added</td>
          </tr>
          <tr>
            <td><code>clear</code></td>
            <td>—</td>
            <td>Dispatched when console is cleared</td>
          </tr>
          <tr>
            <td><code>theme-change</code></td>
            <td><code>{ theme: string }</code></td>
            <td>Dispatched when theme changes</td>
          </tr>
        </tbody>
      </table>
    </section>

    <section id="css-properties" class="api-section">
      <h2>CSS Custom Properties</h2>
      <p>Use these to customize the appearance of the component:</p>

      <table class="api-table">
        <thead>
          <tr>
            <th>Property</th>
            <th>Default (Light)</th>
            <th>Default (Dark)</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>--bg-primary</code></td>
            <td><span class="api-default">#ffffff</span></td>
            <td><span class="api-default">#1e1e1e</span></td>
            <td>Primary background color</td>
          </tr>
          <tr>
            <td><code>--bg-secondary</code></td>
            <td><span class="api-default">#f3f3f3</span></td>
            <td><span class="api-default">#252526</span></td>
            <td>Secondary background (header)</td>
          </tr>
          <tr>
            <td><code>--bg-hover</code></td>
            <td><span class="api-default">#e8e8e8</span></td>
            <td><span class="api-default">#2a2d2e</span></td>
            <td>Hover state background</td>
          </tr>
          <tr>
            <td><code>--border-color</code></td>
            <td><span class="api-default">#e1e1e1</span></td>
            <td><span class="api-default">#3c3c3c</span></td>
            <td>Border color</td>
          </tr>
          <tr>
            <td><code>--accent-color</code></td>
            <td><span class="api-default">#0078d4</span></td>
            <td><span class="api-default">#0078d4</span></td>
            <td>Accent color for active states</td>
          </tr>
          <tr>
            <td><code>--text-primary</code></td>
            <td><span class="api-default">#1f1f1f</span></td>
            <td><span class="api-default">#d4d4d4</span></td>
            <td>Primary text color</td>
          </tr>
          <tr>
            <td><code>--text-secondary</code></td>
            <td><span class="api-default">#616161</span></td>
            <td><span class="api-default">#808080</span></td>
            <td>Secondary text (timestamps)</td>
          </tr>
          <tr>
            <td><code>--log-color</code></td>
            <td><span class="api-default">#1f1f1f</span></td>
            <td><span class="api-default">#d4d4d4</span></td>
            <td><code>console.log</code> text color</td>
          </tr>
          <tr>
            <td><code>--info-color</code></td>
            <td><span class="api-default">#0066cc</span></td>
            <td><span class="api-default">#3794ff</span></td>
            <td><code>console.info</code> text color</td>
          </tr>
          <tr>
            <td><code>--warn-color</code></td>
            <td><span class="api-default">#9d5d00</span></td>
            <td><span class="api-default">#cca700</span></td>
            <td><code>console.warn</code> text color</td>
          </tr>
          <tr>
            <td><code>--error-color</code></td>
            <td><span class="api-default">#c72222</span></td>
            <td><span class="api-default">#f14c4c</span></td>
            <td><code>console.error</code> text color</td>
          </tr>
          <tr>
            <td><code>--debug-color</code></td>
            <td><span class="api-default">#098658</span></td>
            <td><span class="api-default">#b5cea8</span></td>
            <td><code>console.debug</code> text color</td>
          </tr>
        </tbody>
      </table>
    </section>

    <section id="css-parts" class="api-section">
      <h2>CSS Parts</h2>
      <p>Style internal elements using <code>::part()</code>:</p>
      <table class="api-table">
        <thead>
          <tr>
            <th>Part</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>header</code></td>
            <td>The console header containing filters and actions</td>
          </tr>
          <tr>
            <td><code>logs</code></td>
            <td>The scrollable log entries container</td>
          </tr>
          <tr>
            <td><code>filter-button</code></td>
            <td>Filter buttons (All, Log, Info, Warn, Error)</td>
          </tr>
          <tr>
            <td><code>action-button</code></td>
            <td>Action buttons (theme toggle, copy, clear)</td>
          </tr>
          <tr>
            <td><code>log-entry</code></td>
            <td>Individual log entry row</td>
          </tr>
        </tbody>
      </table>

      <h3>Example</h3>
      <code-block language="css">browser-console::part(header) {
  background: #2d2d2d;
  border-bottom: 2px solid #0078d4;
}

browser-console::part(log-entry) {
  font-size: 13px;
}</code-block>
    </section>

    <section id="types" class="api-section">
      <h2>TypeScript Types</h2>
      <code-block language="typescript">interface LogEntry {
  method: 'log' | 'info' | 'warn' | 'error' | 'debug' | 'table' | 'time' | 'clear' | 'count' | 'assert' | 'group' | 'trace' | 'dir'
  data: unknown[]
  timestamp: Date
  groupDepth?: number
  collapsed?: boolean
  groupId?: string
  stack?: string
}

interface GroupStackEntry {
  label: string
  collapsed: boolean
  id: string
}

type Theme = 'dark' | 'light'
type Filter = 'log' | 'info' | 'warn' | 'error' | null</code-block>
    </section>

    <section id="browser-support" class="api-section">
      <h2>Browser Support</h2>
      <p>This component uses standard Web Components APIs and works in all modern browsers:</p>
      <table class="api-table">
        <thead>
          <tr>
            <th>Browser</th>
            <th>Version</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Chrome</td>
            <td>67+</td>
          </tr>
          <tr>
            <td>Firefox</td>
            <td>63+</td>
          </tr>
          <tr>
            <td>Safari</td>
            <td>10.1+</td>
          </tr>
          <tr>
            <td>Edge</td>
            <td>79+</td>
          </tr>
        </tbody>
      </table>
    </section>
  </main>

  <footer class="site-footer">
    <p>MIT License | <a href="https://github.com/ProfPowell/browser-console">View on GitHub</a> | <a href="https://www.npmjs.com/package/@profpowell/browser-console">npm</a></p>
  </footer>

  <script>
    (function() {
      const toggle = document.querySelector('.theme-toggle')
      toggle?.addEventListener('click', () => {
        document.body.classList.toggle('dark')
        const isDark = document.body.classList.contains('dark')
        localStorage.setItem('browser-console-theme', isDark ? 'dark' : 'light')
      })
    })()
  </script>
</body>
</html>
